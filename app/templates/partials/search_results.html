{% if results %}
<div class="search-results-info fade-in-up">
    Found <strong style="color: var(--text-primary);">{{ total }}</strong> results in <span style="color: var(--success);">{{ "%.2f"|format(duration) }}ms</span>
</div>

<div style="display: flex; flex-direction: column; gap: 1rem;">
    {% for result in results %}
    <article class="search-result-card fade-in-up" style="animation-delay: {{ loop.index * 50 }}ms;">
        <h3 class="search-result-title">
            <a href="/article/{{ result.slug }}">{{ result.title }}</a>
        </h3>

        <div class="search-result-meta">
            <span class="score">Score: {{ "%.2f"|format(result.relevance_score) }}</span>
            <span style="margin: 0 0.5rem;">Â·</span>
            <span>{{ result.published_at.strftime('%b %d, %Y') if result.published_at else 'Draft' }}</span>
        </div>

        <p class="search-result-snippet">
            {{ result.snippet | safe }}...
        </p>

        <div class="article-tags">
            {% for tag in result.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
        </div>
    </article>
    {% endfor %}
</div>

{% elif query %}
<div class="empty-state fade-in-up">
    <svg class="empty-state-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
        <path d="M8 8l6 6"></path>
    </svg>
    <h3>No results found</h3>
    <p>Try adjusting your search terms or browse all articles.</p>
    <a href="/" style="display: inline-flex; align-items: center; gap: 0.5rem; margin-top: 1rem; padding: 0.75rem 1.5rem; background: var(--accent-muted); border: 1px solid var(--border-accent); border-radius: 8px; color: var(--accent-primary); font-weight: 500;">
        Browse all articles
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
        </svg>
    </a>
</div>

{% else %}
<!-- Initial state: no query yet -->
<div class="empty-state fade-in-up" style="padding: 3rem 2rem;">
    <svg class="empty-state-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
    </svg>
    <h3>Start searching</h3>
    <p>Type in the search box above to find articles.</p>
</div>
{% endif %}
